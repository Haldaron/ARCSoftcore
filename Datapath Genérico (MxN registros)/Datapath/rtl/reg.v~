module registro #(
parameter M=8 //nÃºmero de bits del registro
)(
input clk,write,rst,
input[M-1:0] datain,
input[M-1:0] inicial,
output reg[M-1:0] dataout
);

initial 
begin
dataout=0;
end		

always@(posedge write, posedge rst)
begin
           if(~rst)
            dataout=datain;
           else
            dataout=inicial;
end
endmodule
